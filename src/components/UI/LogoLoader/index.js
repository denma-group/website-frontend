// Libraries
import React from 'react';
import PropTypes from 'prop-types';
import styled, { css } from 'styled-components';

const LoaderColor = css`${props => props.theme.primary || 'inherit'}`;

const Container = styled.div`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  color: ${LoaderColor};

  svg {
    overflow: visible;
    color: ${LoaderColor};
    animation-direction:normal;
    animation-play-state:running;
    animation-duration:1.5s;
  }

  svg g {
    transform: scale(1);
    transform-origin: 50px 50px;
  }

  .jump {
    transform-origin: 50px 50px;
    animation: jump 1.5s ease-in infinite;
  }
  
  .pulse {
    animation: pulse 1.5s infinite;
  }

  @keyframes jump {
    0%, 28%, 48%, 64%, 76%, 86%, 93%, 100% {
        animation-timing-function: ease-out;
        transform: translateY(0);
    }
    14%, 38%, 56%, 70%, 81%, 90%, 97% {
      animation-timing-function: ease-in;
    }
    14% {
      transform: translateY(-27px);
    }
    38% {
      transform: translateY(-20px);
    }
    56% {
      transform: translateY(-16px);
    }
    70% {
      transform: translateY(-12px);
    }
    81% {
      transform: translateY(-7.5px);
    }
    90% {
      transform: translateY(-3px);
    }
    97% {
      transform: translateY(-1.5px);
    }
  }

  @keyframes pulse {
    0%, 100% {
      transform: scale(.86);
    }

    50% {
      transform: scale(1.06);
    }
  }
`;

const Loader = props => {
  const { size, ...rest } = props;

  return (
    <Container {...rest}>
      <svg
        width={`${size}px`}
        height={`${size}px`}
        viewBox="0 0 100 100"
        ng-attr-width="{{ctrl.size.value}}px"
        ng-attr-height="{{ctrl.size.value}}px"
        ng-if="canvas.show=='img'"
        ng-attr-style="background:{{ctrl.bkcolor.value}}"
        className="pulse"
      >
        <g ng-attr-style="transform:scale({{ctrl.scale.value}});transform-origin:50px 50px">
          <image
            x="0"
            y="0"
            width="100"
            height="100"
            ng-attr-href="{{canvas.img || ''}}"
            ng-class="ctrl.animation.value + ' ' + ctrl.icon.value"
            ng-attr-style="animation-direction:{{ctrl.direction.value}};animation-play-state:{{ctrl.playstate.value}};animation-duration:{{ctrl.speed.value}}s;transform-origin: 50px 50px"
            href="data:image/svg+xml,%3Csvg%20id%3D%22Capa_1%22%20data-name%3D%22Capa%201%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20viewBox%3D%220%200%20255.07%20266.66%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill%3A%23fff%3B%7D.cls-2%7Bfill%3A%23c64b55%3B%7D.cls-3%7Bfill%3A%23963c47%3B%7D.cls-4%2C.cls-8%7Bfill%3Anone%3B%7D.cls-5%7Bfill%3A%23d12959%3B%7D.cls-6%7Bfill%3Aurl(%23linear-gradient)%3B%7D.cls-7%7Bfill%3Aurl(%23linear-gradient-2)%3B%7D.cls-8%7Bstroke%3A%231d1d1b%3Bstroke-miterlimit%3A10%3B%7D.cls-9%7Bfill%3A%23a0224c%3B%7D%3C%2Fstyle%3E%3ClinearGradient%20id%3D%22linear-gradient%22%20x1%3D%22335.62%22%20y1%3D%22472.88%22%20x2%3D%22462.99%22%20y2%3D%22363.52%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23a0224c%22%2F%3E%3Cstop%20offset%3D%220.43%22%20stop-color%3D%22%23672037%22%2F%3E%3Cstop%20offset%3D%221%22%20stop-color%3D%22%231d1d1b%22%2F%3E%3C%2FlinearGradient%3E%3ClinearGradient%20id%3D%22linear-gradient-2%22%20x1%3D%22512.68%22%20y1%3D%22290.74%22%20x2%3D%22424.25%22%20y2%3D%22367.58%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23a0224c%22%2F%3E%3Cstop%20offset%3D%221%22%20stop-color%3D%22%231d1d1b%22%2F%3E%3C%2FlinearGradient%3E%3C%2Fdefs%3E%3Ctitle%3Elogo_denma_svg2%3C%2Ftitle%3E%3Cpolygon%20class%3D%22cls-1%22%20points%3D%2231.44%20230.08%2032.6%20233.08%2031.44%20233.08%2031.44%20230.08%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M331.34%2C341.6h0l7.2%2C7.19Z%22%20transform%3D%22translate(-330.08%20-231.46)%22%2F%3E%3Cpath%20class%3D%22cls-3%22%20d%3D%22M331.17%2C293.69h0Zm.17%2C47.91h0l7.2%2C7.19Zm71.84-47.91h0Zm0%2C0h0ZM331.34%2C341.6h0l7.2%2C7.19Zm-.17-47.91h0Zm0%2C0h0Zm.17%2C47.91h0l7.2%2C7.19Zm71.84-47.91h0Zm0%2C0h0ZM331.34%2C341.6h0l7.2%2C7.19Zm-.17-47.91h0Zm0%2C0h0Zm.17%2C47.91h0l7.2%2C7.19Zm71.84-47.91h0Zm0%2C0h0ZM331.34%2C341.6h0l7.2%2C7.19Zm-.17-47.91h0Z%22%20transform%3D%22translate(-330.08%20-231.46)%22%2F%3E%3Cline%20class%3D%22cls-4%22%20x1%3D%2216.56%22%20y1%3D%22192.7%22%20x2%3D%2212.35%22%20y2%3D%22190.11%22%2F%3E%3Cpath%20class%3D%22cls-5%22%20d%3D%22M395.67%2C411.86h0ZM381.41%2C435l.12-14.87h0l.51-63-24.81%2C18.75v96H404.1L450%2C435Zm115.93%2C15.64q2.18-2%2C4.2-4.23c.71-.77%2C1.4-1.54%2C2.08-2.33Zm56.81-74.72c-.07-1-.17-2-.27-3.06a116.71%2C116.71%2C0%2C0%2C0-6-26.73c-.59-1.7-1.23-3.38-1.91-5s-1.27-3.06-2-4.56a.38.38%2C0%2C0%2C0%2C0-.08c-.1-.23-.21-.46-.32-.7-1.4-3-3-6-4.62-8.87a115.76%2C115.76%2C0%2C0%2C0-6.43-9.89l0%2C0a109.45%2C109.45%2C0%2C0%2C0-37.08-32.42%2C103.2%2C103.2%2C0%2C0%2C0-48.56-12.13H403.18v75.85h0v8.3h0v56h94.73a86.18%2C86.18%2C0%2C0%2C0%2C9.57-.53l.36%2C0A83.83%2C83.83%2C0%2C0%2C0%2C522%2C409.1a85.72%2C85.72%2C0%2C0%2C0%2C32.4-18q.15-2.87.15-5.79Q554.53%2C380.56%2C554.15%2C375.94ZM461.6%2C348.3h0Zm70.91%2C65.63%2C21.71-20.32c.06-.84.11-1.68.15-2.52Z%22%20transform%3D%22translate(-330.08%20-231.46)%22%2F%3E%3Cpath%20class%3D%22cls-5%22%20d%3D%22M554.23%2C393.61a117.87%2C117.87%2C0%2C0%2C1-3.11%2C20%2C114.19%2C114.19%2C0%2C0%2C1-21.59%2C44c-2.06%2C2.6-4.23%2C5.1-6.51%2C7.47a105.19%2C105.19%2C0%2C0%2C1-63.85%2C32.35l-.44%2C0a104.15%2C104.15%2C0%2C0%2C1-11.8.66H330.08V272.43H375l-17.76%2C25.81V471.86h87.4a75.06%2C75.06%2C0%2C0%2C0%2C8.84-.51l.33%2C0a75.49%2C75.49%2C0%2C0%2C0%2C26.14-8.21h0a80%2C80%2C0%2C0%2C0%2C17.38-12.42h0q2.18-2%2C4.2-4.23c.71-.77%2C1.4-1.54%2C2.08-2.33l28.89-30.17Z%22%20transform%3D%22translate(-330.08%20-231.46)%22%2F%3E%3Cpath%20class%3D%22cls-6%22%20d%3D%22M381.41%2C435l.12-14.87h.19l10.8%2C10.77-10.8-10.79h-.19V351.66l-24.3%2C24.22v96H404.1L450%2C435Zm115.93%2C15.64q2.18-2%2C4.2-4.23c.71-.77%2C1.4-1.54%2C2.08-2.33Zm27.49-72.79c-.06-.79-.13-1.57-.2-2.36q-.28-2.76-.72-5.47c-.06-.36-.11-.72-.18-1.08a91.29%2C91.29%2C0%2C0%2C0-6.49-21.4c-.08-.2-.18-.39-.26-.6-1.05-2.34-2.21-4.61-3.45-6.82a88.71%2C88.71%2C0%2C0%2C0-4.81-7.61v0A82.62%2C82.62%2C0%2C0%2C0%2C481%2C307.57a75.39%2C75.39%2C0%2C0%2C0-36.33-9.32H403.18v58.34h0v56h94.73a86.18%2C86.18%2C0%2C0%2C0%2C9.57-.53l.36%2C0A83.83%2C83.83%2C0%2C0%2C0%2C522%2C409.1c.2-.76.4-1.52.58-2.3a93.82%2C93.82%2C0%2C0%2C0%2C2.55-21.76C525.11%2C382.63%2C525%2C380.23%2C524.83%2C377.87Zm-69.21-21.28h0Z%22%20transform%3D%22translate(-330.08%20-231.46)%22%2F%3E%3Cpath%20class%3D%22cls-5%22%20d%3D%22M584.85%2C315.23c-.06-.82-.13-1.64-.22-2.46a92.65%2C92.65%2C0%2C0%2C0-8-29.15l-.28-.62c-1.14-2.44-2.4-4.81-3.75-7.12a92.58%2C92.58%2C0%2C0%2C0-5.21-7.94v0a88.39%2C88.39%2C0%2C0%2C0-30.07-26%2C84.23%2C84.23%2C0%2C0%2C0-39.38-9.73H403.18V413.29h94.73a86.18%2C86.18%2C0%2C0%2C0%2C9.57-.53l.36%2C0A83.83%2C83.83%2C0%2C0%2C0%2C522%2C409.8a85.72%2C85.72%2C0%2C0%2C0%2C32.4-18l.14-.13h0q2.63-2.33%2C5.08-4.88%2C2.78-2.86%2C5.28-6a91.23%2C91.23%2C0%2C0%2C0%2C17.51-35.33%2C94.71%2C94.71%2C0%2C0%2C0%2C2.76-22.7C585.15%2C320.2%2C585%2C317.7%2C584.85%2C315.23Zm-73%2C59.94a51.1%2C51.1%2C0%2C0%2C1-15.43%2C2.38H439.1V267.91h58.67c.53%2C0%2C1%2C0%2C1.57.07l1%2C.07c.44%2C0%2C.88.06%2C1.32.11l.75.08.72.09%2C1.1.16c.74.11%2C1.49.25%2C2.22.39l.83.18c.3.06.6.13.9.2l1.25.31c.46.12.91.25%2C1.35.39l.93.27c.69.22%2C1.37.45%2C2%2C.69l1%2C.38c.88.33%2C1.74.69%2C2.6%2C1.08l1.36.63c.48.23%2C1%2C.47%2C1.43.73.25.13.48.25.71.38q1.82%2C1%2C3.54%2C2.1l.92.62c.4.27.8.54%2C1.19.84.22.16.45.32.66.48l.65.49c.43.33.85.66%2C1.26%2C1l.11.09q.57.46%2C1.12.95l.27.23c.37.33.75.67%2C1.12%2C1s.79.73%2C1.17%2C1.12l.06.06q.93.93%2C1.81%2C1.89c.19.2.36.4.55.6%2C1%2C1.11%2C1.92%2C2.26%2C2.81%2C3.44.18.24.35.47.52.72h0l.15.22c.34.47.67%2C1%2C1%2C1.43l.08.11c.32.47.62.95.91%2C1.42l.2.32h0c.18.29.35.57.51.86s.27.46.41.68c.38.67.75%2C1.36%2C1.11%2C2s.69%2C1.39%2C1%2C2.1l.33.74c.25.55.48%2C1.09.71%2C1.66s.43%2C1.06.63%2C1.6.43%2C1.19.62%2C1.8.37%2C1.15.55%2C1.73.3%2C1.06.45%2C1.59L534.5%2C294.47l12.84%2C13.65q.2.76.38%2C1.54a1.81%2C1.81%2C0%2C0%2C1%2C.07.29c.12.49.22%2C1%2C.32%2C1.49a2.84%2C2.84%2C0%2C0%2C1%2C.07.34c.09.47.18.95.26%2C1.42a.15.15%2C0%2C0%2C1%2C0%2C.06c0%2C.14%2C0%2C.29.06.43.06.29.1.59.14.88a1.48%2C1.48%2C0%2C0%2C1%2C0%2C.25c0%2C.25.08.51.1.76s.11.78.14%2C1.17.08.79.11%2C1.18.06.83.09%2C1.24.06%2C1.1.08%2C1.66%2C0%2C1.25%2C0%2C1.88a56.64%2C56.64%2C0%2C0%2C1-1.45%2C12.77c-.31%2C1.34-.66%2C2.67-1.07%2C4-.24.79-.5%2C1.58-.78%2C2.35a54.69%2C54.69%2C0%2C0%2C1-12.17%2C19.67%2C53.13%2C53.13%2C0%2C0%2C1-10.06%2C8.18%2C51.64%2C51.64%2C0%2C0%2C1-11.8%2C5.49Z%22%20transform%3D%22translate(-330.08%20-231.46)%22%2F%3E%3Cpath%20class%3D%22cls-7%22%20d%3D%22M552.17%2C319c0-.57%2C0-1.14-.08-1.7s-.06-.85-.1-1.28-.07-.82-.11-1.21-.09-.81-.14-1.21-.06-.52-.11-.78a1.22%2C1.22%2C0%2C0%2C0%2C0-.25c0-.3-.09-.61-.14-.91%2C0-.15%2C0-.3-.07-.44a.11.11%2C0%2C0%2C0%2C0-.05c-.08-.49-.17-1-.26-1.47%2C0-.11%2C0-.23-.07-.35-.11-.51-.21-1-.34-1.54a3%2C3%2C0%2C0%2C0-.07-.3c-.12-.53-.26-1.06-.4-1.58L537%2C292l13.29%2C14c-.15-.55-.3-1.09-.47-1.63s-.37-1.2-.57-1.79-.42-1.23-.64-1.84-.43-1.1-.65-1.65-.48-1.15-.73-1.71l-.34-.76c-.34-.73-.7-1.45-1.07-2.15s-.75-1.41-1.15-2.11c-.13-.23-.27-.47-.41-.7q-.36-.61-.74-1.22c-.31-.49-.62-1-.94-1.46l-.08-.11c-.34-.49-.68-1-1-1.47-.23-.33-.47-.64-.71-1q-1.38-1.82-2.9-3.53l-.57-.62c-.61-.66-1.24-1.31-1.87-1.94l-.06-.06c-.4-.39-.79-.77-1.21-1.15s-.77-.7-1.16-1l-.27-.24c-.38-.33-.77-.65-1.16-1l-.11-.1-1.31-1-.67-.5c-.22-.17-.45-.33-.68-.49-.41-.3-.82-.59-1.24-.86l-1-.63q-1.79-1.16-3.66-2.16c-.24-.14-.49-.26-.73-.39-.49-.26-1-.51-1.48-.75s-.94-.44-1.41-.65c-.88-.4-1.77-.77-2.68-1.11-.34-.14-.7-.27-1.05-.39-.7-.25-1.4-.49-2.12-.71l-1-.28c-.46-.14-.93-.27-1.39-.39l-1.3-.32c-.3-.08-.62-.15-.93-.21l-.86-.18c-.76-.15-1.53-.29-2.3-.4l-1.14-.16-.75-.1L503%2C265c-.45-.05-.91-.09-1.37-.12l-1.07-.07c-.54%2C0-1.08-.05-1.62-.07l-1.37%2C0H438.23v112.6h59.34a53.66%2C53.66%2C0%2C0%2C0%2C38.63-16.5%2C56.41%2C56.41%2C0%2C0%2C0%2C14.5-26.7A57.76%2C57.76%2C0%2C0%2C0%2C552.21%2C321C552.21%2C320.32%2C552.2%2C319.68%2C552.17%2C319Zm-40.75-28.56h0Zm-67%2C59.23h0l9.06%2C8.89Zm25.67-59.22h0Z%22%20transform%3D%22translate(-330.08%20-231.46)%22%2F%3E%3Cpolygon%20class%3D%22cls-8%22%20points%3D%2262.44%20199.45%2051.64%20188.68%2051.45%20188.68%2051.45%20188.67%2051.64%20188.67%2062.44%20199.45%22%2F%3E%3Crect%20class%3D%22cls-8%22%20x%3D%2265.59%22%20y%3D%22180.4%22%20width%3D%220.19%22%20height%3D%220.01%22%2F%3E%3Cpath%20class%3D%22cls-9%22%20d%3D%22M554.38%2C391.07a85.72%2C85.72%2C0%2C0%2C1-32.4%2C18A83.83%2C83.83%2C0%2C0%2C1%2C507.84%2C412l-.36%2C0a86.18%2C86.18%2C0%2C0%2C1-9.57.53H403.18v-56h0V231.46l-28.19%2C41-17.76%2C25.81v77.63l24.3-24.22v68.47h0L381.41%2C435H450L404.1%2C471.86h40.52a75.06%2C75.06%2C0%2C0%2C0%2C8.84-.51l.33%2C0a75.49%2C75.49%2C0%2C0%2C0%2C26.14-8.21h0a80%2C80%2C0%2C0%2C0%2C17.38-12.42h0l6.28-6.56%2C28.89-30.17%2C21.86-22.84h0Z%22%20transform%3D%22translate(-330.08%20-231.46)%22%2F%3E%3C%2Fsvg%3E"
          />
        </g>
      </svg>
    </Container>
  );
};

Loader.propTypes = {
  size: PropTypes.number
};

Loader.defaultProps = {
  size: 96
};

export default Loader;
